(function(t){function e(e){for(var s,i,n=e[0],d=e[1],l=e[2],m=0,u=[];m<n.length;m++)i=n[m],o[i]&&u.push(o[i][0]),o[i]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);c&&c(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var d=a[n];0!==o[d]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var c=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),o=a.n(s);o.a},"0695":function(t,e,a){t.exports=a.p+"img/Kan-banana-color.cc461638.png"},"158c":function(t,e,a){"use strict";var s=a("5410"),o=a.n(s);o.a},3466:function(t,e,a){"use strict";var s=a("3e3a"),o=a.n(s);o.a},"3afc":function(t,e,a){"use strict";var s=a("f999"),o=a.n(s);o.a},"3b8a":function(t,e,a){"use strict";var s=a("a539"),o=a.n(s);o.a},"3e3a":function(t,e,a){},5410:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid banana-bg",attrs:{id:"app"}},[s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"login"!=t.$route.name,expression:"$route.name != 'login'"}],staticClass:"col-12 no-pad"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-green"},[s("a",{staticClass:"navbar-brand nav-title",attrs:{href:"#"}},[s("img",{staticClass:"kan-logo",attrs:{src:a("0695"),alt:""},on:{click:function(e){t.$router.push({name:"boards"})}}})]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mr-auto center-text"}),s("button",{staticClass:"logout",on:{click:t.logout}},[t._v("Logout")])])])])]),s("router-view")],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],i={name:"App",mounted(){this.$store.dispatch("authenticate")},methods:{logout(){this.$store.dispatch("logout")}}},n=i,d=(a("034f"),a("2877")),l=Object(d["a"])(n,o,r,!1,null,null,null),c=l.exports,m=a("8c4f"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-12"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addBoard(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.title,expression:"newBoard.title"}],staticClass:"form",attrs:{type:"text",placeholder:"Add Board Title",required:""},domProps:{value:t.newBoard.title},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"title",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newBoard.description,expression:"newBoard.description"}],staticClass:"form",attrs:{type:"text",placeholder:"Add Board Description",required:""},domProps:{value:t.newBoard.description},on:{input:function(e){e.target.composing||t.$set(t.newBoard,"description",e.target.value)}}}),a("button",{staticClass:"button board-button",attrs:{type:"submit"}})])]),t._l(t.boards,function(t){return a("board-display",{attrs:{boardData:t}})})],2)},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" offset-1 col-10 boards"},[a("h1",[t._v("My Boards")])])}],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:" ml-2 mt-4 col-2"},[a("div",{staticClass:"card"},[a("div",{staticClass:"col-12 card-click",on:{click:function(e){t.setActiveBoard(t.boardData),t.$router.push({name:"board",params:{boardId:t.boardData._id}})}}},[a("h5",{staticClass:"card-title"},[t._v("\n        "+t._s(t.boardData.title))]),a("p",{staticClass:"card-text"},[t._v(t._s(t.boardData.description))])]),a("div",{staticClass:"card-body"},[a("button",{staticClass:"delete-board",on:{click:function(e){t.deleteBoard(t.boardData._id)}}},[t._v("Delete Board")])])])])},v=[],b={name:"boardDisplay",props:["boardData"],methods:{deleteBoard(t){this.$store.dispatch("deleteBoard",t)},setActiveBoard(t){this.$store.dispatch("getActiveBoard",t)}}},f=b,g=(a("7c54"),Object(d["a"])(f,h,v,!1,null,null,null)),w=g.exports,C={name:"boards",created(){this.$store.state.user._id||this.$router.push({name:"login"})},mounted(){this.$store.dispatch("getBoards")},data(){return{newBoard:{title:"",description:""}}},computed:{boards(){return this.$store.state.boards}},methods:{addBoard(){this.$store.dispatch("addBoard",this.newBoard),this.newBoard={title:"",description:""}},deleteBoard(t){this.$store.dispatch("deleteBoard",t)}},components:{BoardDisplay:w}},_=C,k=(a("3b8a"),Object(d["a"])(_,u,p,!1,null,null,null)),$=k.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"bg row"},[a("div",{staticClass:"offset-1 col-10"},[a("h1",[t._v(t._s(t.board.title))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 "},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createList(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.listForm.title,expression:"listForm.title"}],staticClass:"list-form",attrs:{type:"text",placeholder:"Add List Title",required:""},domProps:{value:t.listForm.title},on:{input:function(e){e.target.composing||t.$set(t.listForm,"title",e.target.value)}}}),a("button",{staticClass:"list-button",attrs:{type:"submit"}})])])]),a("div",{staticClass:"row flex-nowrap scroll-x"},t._l(t.lists,function(t){return a("list",{attrs:{listData:t}})}))])])},B=[],I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drop",{staticClass:" m-2 card-list col-3",on:{drop:t.dragDrop}},[a("div",{staticClass:"row list-title"},[a("div",{staticClass:"col-9 "},[a("h3",[t._v(t._s(t.listData.title))])]),a("div",{staticClass:"col-3 ml-auto"},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"dropdown-toggle list-drop",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Edit List Name")]),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){t.deleteList(t.listData._id)}}},[t._v("Delete List")])])])]),a("div",{staticClass:"col-12"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createTask(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.taskForm.body,expression:"taskForm.body"}],attrs:{type:"text",placeholder:"Add Task",required:""},domProps:{value:t.taskForm.body},on:{input:function(e){e.target.composing||t.$set(t.taskForm,"body",e.target.value)}}}),a("button",{staticClass:"add-task",attrs:{type:"submit"}})])])]),a("div",{staticClass:"row"},t._l(t.tasks,function(t){return a("task",{attrs:{taskData:t}})}))])},D=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("drag",{staticClass:"task-card col-11 card",attrs:{"transfer-data":t.taskData}},[a("h4",[t._v(t._s(t.taskData.body)+"\n    "),a("button",{staticClass:"delete-button",on:{click:function(e){t.deleteTask(t.taskData)}}},[t._v("-")])]),a("div",{staticClass:"row"},[t._l(t.comments,function(t){return a("comment",{attrs:{commentData:t}})}),a("div",{staticClass:"col-12"},[a("button",{staticClass:"comment-btn",on:{click:function(e){t.showForm=!t.showForm}}},[t._v("Reply")]),t.showForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.createComment(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.commentForm.body,expression:"commentForm.body"}],attrs:{type:"text",placeholder:"Add Comment",required:""},domProps:{value:t.commentForm.body},on:{input:function(e){e.target.composing||t.$set(t.commentForm,"body",e.target.value)}}}),a("footer",[a("button",{staticClass:"reply-button",attrs:{type:"submit"}})])]):t._e()])],2)])},F=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment col-12 text-center"},[a("p",[t._v(t._s(t.commentData.body)+"\n    "),a("button",{staticClass:"delete-comment",on:{click:function(e){t.deleteComment(t.commentData)}}},[t._v("-")])])])},T=[],U={name:"comment",props:["commentData"],data(){return{}},computed:{},methods:{deleteComment(t){return this.$store.dispatch("deleteComment",t)}},components:{}},O=U,P=(a("3afc"),Object(d["a"])(O,L,T,!1,null,"54f2e7ae",null)),j=P.exports,A={name:"task",props:["taskData"],data(){return{commentForm:{},showForm:!1}},mounted(){{let t=this.$route.params.boardId,e=this.taskData.listId,a=this.taskData._id,s={boardId:t,listId:e,taskId:a};this.$store.dispatch("getComments",s)}},computed:{comments(){return this.$store.state.comments[this.taskData._id]||[]}},methods:{deleteTask(t){this.$store.dispatch("deleteTask",t)},createComment(){let t=this.$store.state.activeBoard._id,e=this.taskData.listId,a=this.taskData._id,s=this.commentForm.body,o={boardId:t,listId:e,taskId:a,body:s};return this.$store.dispatch("createComment",o)}},components:{Comment:j}},E=A,N=(a("3466"),Object(d["a"])(E,x,F,!1,null,"62a2f27d",null)),S=N.exports,M={name:"List",props:["listData"],data(){return{taskForm:{}}},mounted(){{let t=this.$route.params.boardId,e=this.listData._id,a={boardId:t,listId:e};this.$store.dispatch("getTasks",a)}},methods:{deleteList(t){this.$store.dispatch("deleteList",t)},createTask(){let t=this.$store.state.activeBoard._id,e=this.listData._id,a=this.taskForm.body,s={boardId:t,listId:e,body:a};return this.$store.dispatch("createTask",s)},dragDrop(t){let e=this.listData,a={listId:e._id,task:t,body:t.body};this.$store.dispatch("dragDrop",a)}},computed:{tasks(){return this.$store.state.tasks[this.listData._id]}},components:{Task:S}},q=M,R=(a("f62b"),Object(d["a"])(q,I,D,!1,null,null,null)),J=R.exports,K={name:"board",mounted(){this.$store.dispatch("getLists",this.$route.params.boardId)},data(){return{listForm:{}}},computed:{board(){return this.$store.state.boards.find(t=>t._id==this.boardId)||{title:"Loading..."}},lists(){return this.$store.state.lists}},methods:{createList(){let t=this.$store.state.activeBoard._id,e=this.listForm.title,a={title:e,boardId:t};return this.$store.dispatch("createList",a)}},components:{List:J},props:["boardId"]},z=K,G=(a("158c"),Object(d["a"])(z,y,B,!1,null,null,null)),H=G.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login container-fluid"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"offset-6 col-6 mr-auto"},[a("h1",{staticClass:"login-title"},[t._v("KanBanana")]),t.loginForm?a("form",{on:{submit:function(e){return e.preventDefault(),t.loginUser(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.email,expression:"creds.email"}],staticClass:"email",attrs:{type:"email",placeholder:"Email Address"},domProps:{value:t.creds.email},on:{input:function(e){e.target.composing||t.$set(t.creds,"email",e.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.creds.password,expression:"creds.password"}],staticClass:"email",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.creds.password},on:{input:function(e){e.target.composing||t.$set(t.creds,"password",e.target.value)}}})])]),t._m(1)]):a("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"name"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),a("button",{attrs:{type:"submit"}},[t._v("Create Account")])]),a("div",{staticClass:"action",on:{click:function(e){t.loginForm=!t.loginForm}}},[t.loginForm?a("p",[t._v("Click here to Register")]):a("p",[t._v("Click here to Login")])])])])])},V=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"login-button",attrs:{type:"submit"}},[t._v("Login")])])])}],W={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",name:""}}},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},X=W,Y=(a("d6db"),Object(d["a"])(X,Q,V,!1,null,null,null)),Z=Y.exports;s["a"].use(m["a"]);var tt=new m["a"]({routes:[{path:"/",name:"boards",component:$},{path:"/board/:boardId",name:"board",props:!0,component:H},{path:"/login",name:"login",component:Z},{path:"*",redirect:"/"}]}),et=a("2f62"),at=a("bc3a"),st=a.n(at);s["a"].use(et["a"]);let ot=window.location.host.includes("localhost:8080")?"//localhost:300":"/",rt=st.a.create({baseURL:ot+"auth/",timeout:3e3,withCredentials:!0}),it=st.a.create({baseURL:"//localhost:3000/api/",timeout:3e3,withCredentials:!0});var nt=new et["a"].Store({state:{user:{},boards:[],activeBoard:{},lists:[],tasks:{},comments:{}},mutations:{setUser(t,e){t.user=e},setBoards(t,e){t.boards=e},setActiveBoard(t,e){t.activeBoard=e},addList(t,e){t.lists.push(e)},setList(t,e){t.lists=e},addTask(t,e){t.tasks=e},setTasks(t,e){s["a"].set(t.tasks,e.listId,e.tasks)},addComment(t,e){t.comments=e},setComments(t,e){s["a"].set(t.comments,e.taskId,e.comments)}},actions:{logout({commit:t,dispatch:e},a){rt.delete("logout").then(t=>{tt.push({name:"login"})})},register({commit:t,dispatch:e},a){rt.post("register",a).then(e=>{t("setUser",e.data),tt.push({name:"boards"})})},authenticate({commit:t,dispatch:e}){rt.get("authenticate").then(e=>{t("setUser",e.data),tt.push({name:"boards"})}).catch(t=>{tt.push({name:"login"})})},login({commit:t,dispatch:e},a){rt.post("login",a).then(e=>{t("setUser",e.data),tt.push({name:"boards"})})},getBoards({commit:t,dispatch:e}){it.get("boards").then(e=>{t("setBoards",e.data)})},addBoard({commit:t,dispatch:e},a){it.post("boards",a).then(t=>{e("getBoards")})},deleteBoard({commit:t,dispatch:e},a){it.delete("boards/"+a).then(t=>{e("getBoards")})},getActiveBoard({commit:t,dispatch:e},a){it.get("boards/"+a._id).then(e=>{t("setActiveBoard",e.data)})},getLists({commit:t,state:e},a){a||(a=e.activeBoard._id),it.get("/boards/"+a+"/lists/").then(e=>{t("setList",e.data)})},createList({commit:t,state:e},a){let s=e.activeBoard._id;it.post("/boards/"+s+"/lists/",a).then(e=>{t("addList",e.data)})},deleteList({dispatch:t,state:e},a){let s=e.activeBoard._id;it.delete("/boards/"+s+"/lists/"+a).then(e=>{t("getLists")})},createTask({commit:t,dispatch:e},a){it.post("/boards/"+a.boardId+"/lists/"+a.listId+"/tasks",a).then(t=>{e("getTasks",t.data)})},getTasks({commit:t,state:e},a){a.boardId||(a.boardId=e.activeBoard._id);let s=a.listId||a.list.listId;it.get("/boards/"+a.boardId+"/lists/"+s+"/tasks").then(e=>{t("setTasks",{listId:a.listId,tasks:e.data})})},deleteTask({dispatch:t,commit:e},a){it.delete("/boards/"+a.boardId+"/lists/"+a.listId+"/tasks/"+a._id).then(e=>{t("getTasks",a)})},dragDrop({commit:t,dispatch:e},a){it.put("/boards/"+a.task.boardId+"/lists/"+a.task.listId+"/tasks/"+a.task._id,a).then(t=>{e("getTasks",a),e("getTasks",{payload:a,listId:a.task.listId})})},createComment({commit:t,dispatch:e},a){it.post("/boards/"+a.boardId+"/lists/"+a.listId+"/tasks/"+a.taskId+"/comments",a).then(t=>{e("getComments",t.data)})},getComments({commit:t,state:e},a){a.boardId||(a.boardId=e.activeBoard._id),it.get("/boards/"+a.boardId+"/lists/"+a.listId+"/tasks/"+a.taskId+"/comments").then(e=>{t("setComments",{taskId:a.taskId,comments:e.data})})},deleteComment({dispatch:t,commit:e},a){it.delete("/boards/"+a.boardId+"/lists/"+a.listId+"/tasks/"+a.taskId+"/comments/"+a._id).then(e=>{t("getComments",a)})}}}),dt=a("df76"),lt=a.n(dt);s["a"].use(lt.a),s["a"].config.productionTip=!1,new s["a"]({router:tt,store:nt,created(){this.$store.dispatch("authenticate")},render:t=>t(c)}).$mount("#app")},"629d":function(t,e,a){},"64a9":function(t,e,a){},"7c54":function(t,e,a){"use strict";var s=a("fd2b"),o=a.n(s);o.a},a539:function(t,e,a){},a9e7:function(t,e,a){},d6db:function(t,e,a){"use strict";var s=a("a9e7"),o=a.n(s);o.a},f62b:function(t,e,a){"use strict";var s=a("629d"),o=a.n(s);o.a},f999:function(t,e,a){},fd2b:function(t,e,a){}});
//# sourceMappingURL=app.f86c5d54.js.map